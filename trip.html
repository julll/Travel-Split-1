<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Split - –ü–æ–µ–∑–¥–∫–∞</title>
    <link rel="stylesheet" href="trip-styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <a href="index.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–æ–µ–∑–¥–∫–∞–º</a>
                <div class="firebase-badge offline">üî¥ –û—Ñ–ª–∞–π–Ω</div>
            </div>
            <h1 id="tripName">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
            <p><strong>–£—á–∞—Å—Ç–Ω–∏–∫–∏:</strong> <span id="participantsList">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
        </header>

        <main>
            <section class="add-expense">
                <h2>–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h2>
                <form id="expenseForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <input type="text" id="description" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£–∂–∏–Ω –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ">
                        </div>

                        <div class="form-group">
                            <label for="amount">–°—É–º–º–∞ (‚ÇΩ):</label>
                            <input type="number" id="amount" step="0.01" required placeholder="0.00">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="paidBy">–ö—Ç–æ –∑–∞–ø–ª–∞—Ç–∏–ª:</label>
                            <select id="paidBy" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>–£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–∞—Å—Ö–æ–¥–∞:</label>
                            <div id="expenseParticipants" class="participants-checkboxes">
                                <!-- Checkboxes will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</button>
                </form>
            </section>

            <section class="expenses-section">
                <div class="section-header">
                    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</h2>
                    <button onclick="showAllExpenses()" class="btn btn-secondary">–í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã</button>
                </div>
                <div id="expensesList" class="expenses-list">
                    <p class="no-expenses">–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
                </div>
            </section>

            <section class="balances-section">
                <div id="balances">
                    <p class="no-balances">–î–æ–±–∞–≤—å—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –±–∞–ª–∞–Ω—Å–æ–≤</p>
                </div>
            </section>
        </main>
    </div>

    <!-- All Expenses Modal -->
    <div id="allExpensesModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="allExpensesList"></div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <!-- App Scripts -->
    <script src="firebase-database.js"></script>
    <script src="trip.js"></script>
</body>
</html>